(function(t){function e(e){for(var s,n,a=e[0],l=e[1],h=e[2],c=0,v=[];c<a.length;c++)n=a[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&v.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/Boids_ts/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"0321":function(t,e,i){},"034f":function(t,e,i){"use strict";var s=i("85ec"),r=i.n(s);r.a},"2f54":function(t,e,i){"use strict";var s=i("0321"),r=i.n(s);r.a},"387e":function(t,e,i){t.exports=i.p+"img/github.617870e4.svg"},6203:function(t,e,i){"use strict";var s=i("639b"),r=i.n(s);r.a},"639b":function(t,e,i){},"85ec":function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Github",{staticClass:"right",attrs:{url:"https://github.com/PhilipNelson5/Boids_ts"}}),i("Boids")],1)},o=[],n=i("d4ec"),a=i("262e"),l=i("2caf"),h=i("9ab4"),d=i("60a3"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"box"},[i("div",[i("canvas",{ref:"main_canvas",attrs:{width:"1920",height:"1080",id:"main_canvas"}})]),i("p",{staticClass:"text-align-right"},[t._v(" "+t._s((t.opts.fps_hist.reduce((function(t,e){return t+e}))/t.opts.fps_hist.length).toFixed(0))+" FPS ")]),i("div",{staticClass:"container"},[i("label",{attrs:{for:"num_boids"}},[t._v("Number of Boids")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.num_boids,expression:"opts.num_boids"}],staticClass:"slider",attrs:{id:"num_boids",type:"range",min:"1",max:"500",step:"1"},domProps:{value:t.opts.num_boids},on:{__r:function(e){return t.$set(t.opts,"num_boids",e.target.value)}}}),i("p",[t._v(t._s(t.opts.num_boids))]),i("label",{attrs:{for:"speed"}},[t._v("Boid Speed")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.max_speed,expression:"opts.max_speed"}],staticClass:"slider",attrs:{id:"speed",type:"range",min:".01",max:"2",step:".01"},domProps:{value:t.opts.max_speed},on:{__r:function(e){return t.$set(t.opts,"max_speed",e.target.value)}}}),i("p",[t._v(t._s(t.opts.max_speed))]),i("label",{attrs:{for:"size"}},[t._v("Boid Size")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.boid_size,expression:"opts.boid_size"}],staticClass:"slider",attrs:{id:"size",type:"range",min:"1",max:"50",step:"1"},domProps:{value:t.opts.boid_size},on:{__r:function(e){return t.$set(t.opts,"boid_size",e.target.value)}}}),i("p",[t._v(t._s(t.opts.boid_size))]),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),i("label",{attrs:{for:"field_of_view_deg"}},[t._v("Field of View")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.field_of_view_deg,expression:"opts.field_of_view_deg"}],staticClass:"slider",attrs:{id:"field_of_view_deg",type:"range",min:"1",max:"180",step:"1"},domProps:{value:t.opts.field_of_view_deg},on:{__r:function(e){return t.$set(t.opts,"field_of_view_deg",e.target.value)}}}),i("p",[t._v(t._s(t.opts.field_of_view_deg)+"Â°")]),i("label",{attrs:{for:"vision_dist"}},[t._v("View Distance")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.vision_dist,expression:"opts.vision_dist"}],staticClass:"slider",attrs:{id:"vision_dist",type:"range",min:"0",max:"500",step:"1"},domProps:{value:t.opts.vision_dist},on:{__r:function(e){return t.$set(t.opts,"vision_dist",e.target.value)}}}),i("p",[t._v(t._s(t.opts.vision_dist))]),i("label",{attrs:{for:"collision_dist"}},[t._v("Separation Distance")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.collision_dist,expression:"opts.collision_dist"}],staticClass:"slider",attrs:{id:"collision_dist",type:"range",min:"1",max:"200",step:"1"},domProps:{value:t.opts.collision_dist},on:{__r:function(e){return t.$set(t.opts,"collision_dist",e.target.value)}}}),i("p",[t._v(t._s(t.opts.collision_dist))]),i("label",{attrs:{for:"draw_debug"}},[t._v("Draw Vision Lines")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.draw_debug,expression:"opts.draw_debug"}],attrs:{id:"draw_debug",type:"checkbox"},domProps:{checked:Array.isArray(t.opts.draw_debug)?t._i(t.opts.draw_debug,null)>-1:t.opts.draw_debug},on:{change:function(e){var i=t.opts.draw_debug,s=e.target,r=!!s.checked;if(Array.isArray(i)){var o=null,n=t._i(i,o);s.checked?n<0&&t.$set(t.opts,"draw_debug",i.concat([o])):n>-1&&t.$set(t.opts,"draw_debug",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(t.opts,"draw_debug",r)}}}),i("p"),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),i("label",{attrs:{for:"collision_avoidance_strength"}},[t._v("Separation")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.collision_avoidance_strength,expression:"opts.collision_avoidance_strength"}],staticClass:"slider",attrs:{id:"collision_avoidance_strength",type:"range",min:"0",max:"1",step:".01"},domProps:{value:t.opts.collision_avoidance_strength},on:{__r:function(e){return t.$set(t.opts,"collision_avoidance_strength",e.target.value)}}}),i("p",[t._v(t._s(t.opts.collision_avoidance_strength))]),i("label",{attrs:{for:"velocity_align_strength"}},[t._v("Alignment")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.velocity_align_strength,expression:"opts.velocity_align_strength"}],staticClass:"slider",attrs:{id:"velocity_align_strength",type:"range",min:"0",max:"1",step:".01"},domProps:{value:t.opts.velocity_align_strength},on:{__r:function(e){return t.$set(t.opts,"velocity_align_strength",e.target.value)}}}),i("p",[t._v(t._s(t.opts.velocity_align_strength))]),i("label",{attrs:{for:"center_of_mass_align_strength"}},[t._v("Cohesion")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.opts.center_of_mass_align_strength,expression:"opts.center_of_mass_align_strength"}],staticClass:"slider",attrs:{id:"center_of_mass_align_strength",type:"range",min:"0",max:"1",step:".01"},domProps:{value:t.opts.center_of_mass_align_strength},on:{__r:function(e){return t.$set(t.opts,"center_of_mass_align_strength",e.target.value)}}}),i("p",[t._v(t._s(t.opts.center_of_mass_align_strength))]),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),t._v(" "),i("div",{staticClass:"bar"}),i("label",{attrs:{for:"world_height"}},[t._v("World Size")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.world_height,expression:"world_height"}],staticClass:"slider",attrs:{id:"world_height",type:"range",min:"100",max:"10000",step:"10"},domProps:{value:t.world_height},on:{__r:function(e){t.world_height=e.target.value}}}),i("div",[i("p",[t._v(t._s(t.opts.world.width)+" X "+t._s(t.opts.world.height))])])]),i("div",{staticClass:"bar m1em"}),t._m(0)])])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"left"},[i("a",{attrs:{href:"https://en.wikipedia.org/wiki/Boids"}},[t._v("Boids")]),t._v(' are an artificial life program, developed by Craig Reynolds, which simulates the flocking behaviour of birds, fish, insects, or any flocking animal. The name "boid" corresponds to a shortened version of "bird-oid object", which refers to a bird-like object. Boids are an example of emergent behavior; that is, the complexity of Boids arises from the interaction of individual agents (the boids, in this case) adhering to a set of simple rules. The rules applied in the simplest Boids world are as follows: ')]),i("ul",[i("li",[t._v("separation: steer to avoid crowding local flockmates")]),i("li",[t._v("alignment: steer towards the average heading of local flockmates")]),i("li",[t._v(" cohesion: steer to move towards the average position (center of mass) of local flockmates ")])]),i("p",{staticClass:"left"},[t._v(" The blue ring shows how close a flock mate has to get before collision avoidance begins. ")]),i("p",{staticClass:"left"},[t._v(" The green region shows the field of view combined with the vision distance. Any flock member inside this reigon will be used for velocity alignment and center of mass alignment calculations. Red lines are also drawn to these flock members. ")]),i("p",{staticClass:"left"},[t._v("The red dot is the center of mass.")])])}],u=(i("cb29"),i("fb6a"),i("a434"),i("b65f"),i("b85c")),p=i("bee2");i("4c53"),i("a9e3"),i("9129");function _(t,e,i){return t+i*(e-t)}function f(t,e){return Math.random()*(e-t)+t}function g(){var t=f(-1,1),e=f(-1,1),i=Math.sqrt(t*t+e*e);return{x:t/i,y:e/i}}function m(t,e){var i=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.sqrt(e.x*e.x+e.y*e.y),r=Math.acos((t.x*e.x+t.y*e.y)/(i*s));return Number.isNaN(r)?0:r}function w(t,e){return t.x*e.y-t.y*e.x}function y(t,e){var i=Math.sin(e),s=Math.cos(e);return{x:t.x*s-t.y*i,y:t.x*i+t.y*s}}function x(t,e,i){for(var s=[],r=(e-t)/(i-1),o=0;o<i;o++)s.push(t+r*o);return s}var b={angle_between:m,cross_product:w,lerp:_,linear_spaced_array:x,random_vector:g,rotate_vector:y};function k(t){for(var e=[],i=2*Math.PI/t,s=0;s<t;++s)e.push({x:.1*Math.cos(s*i),y:.1*Math.sin(s*i)});return{center:{x:0,y:0},verts:e}}function O(t,e){return{x:t.x+e.x,y:t.y+e.y}}function P(t,e){var i={center:{x:0,y:0},verts:[]};i.center=O(t.center,e);for(var s=0;s<t.verts.length;++s)i.verts[s]=O(t.verts[s],e);return i}function j(t,e){var i;i=0===t.center.x&&0===t.center.y?JSON.parse(JSON.stringify(t)):P(t,{x:-t.center.x,y:-t.center.y});for(var s=0;s<i.verts.length;++s)i.verts[s].x*=e.x,i.verts[s].y*=e.y;return 0===t.center.x&&0===t.center.y?i:P(i,{x:t.center.x,y:t.center.y})}function z(t,e){var i;i=0===t.center.x&&0===t.center.y?JSON.parse(JSON.stringify(t)):P(t,{x:-t.center.x,y:-t.center.y});for(var s=Math.sin(e),r=Math.cos(e),o=0;o<i.verts.length;++o){var n=i.verts[o].x*r-i.verts[o].y*s,a=i.verts[o].x*s+i.verts[o].y*r;i.verts[o].x=n,i.verts[o].y=a}return 0===t.center.x&&0===t.center.y?i:P(i,{x:t.center.x,y:t.center.y})}var C={makeRegularPrimitive:k,translatePoint:O,translatePrimitive:P,scalePrimitive:j,rotatePrimitive:z,triangle:{center:{x:0,y:0},verts:[{x:1,y:0},{x:-.866,y:.5},{x:-.866,y:-.5}]}};function M(t,e){return Math.random()*(e-t)+t}var N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(n["a"])(this,t),this.x=e,this.y=i,this.z=s}return Object(p["a"])(t,[{key:"normalize",value:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);Math.abs(t)<1e-6||(this.x/=t,this.y/=t,this.z/=t)}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}},{key:"sub",value:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}},{key:"mul",value:function(t){this.x*=t,this.y*=t,this.z*=t}},{key:"div",value:function(t){this.x/=t,this.y/=t,this.z/=t}},{key:"setMag",value:function(t){this.normalize(),this.mul(t)}},{key:"limit",value:function(t){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);e<=t||this.setMag(t)}}],[{key:"rand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],M(e,i)),n=M(s,r),a=0,l=new t(o,n,a);return l}},{key:"randNorm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],M(e,i)),n=M(s,r),a=0,l=new t(o,n,a);return l.normalize(),l}},{key:"normalize",value:function(e){var i=new t(e.x,e.y,e.z);return i.normalize(),i}},{key:"add",value:function(e,i){return new t(e.x+i.x,e.y+i.y,e.z+i.z)}},{key:"sub",value:function(e,i){return new t(e.x-i.x,e.y-i.y,e.z-i.z)}},{key:"mul",value:function(e,i){return new t(e.x*i,e.y*i,e.z*i)}},{key:"div",value:function(e,i){return new t(e.x/i,e.y/i,e.z/i)}}]),t}(),S=function(){function t(e){var i=e.pos,s=e.vel,r=e.color,o=e.draw,a=e.debug,l=void 0!==a&&a;Object(n["a"])(this,t),this.id=t.next_id++,this.pos=i,this.vel=s,this.color=r,this.debug=l,this.draw=o,this.seen=[],this.com=new N}return Object(p["a"])(t,[{key:"render",value:function(t){var e=t.boid_size,i=t.world,s=i.width,r=i.height,o=Math.atan(this.vel.y/this.vel.x)-(this.vel.x<0?Math.PI:0),n=new N(b.lerp(0,this.draw.width,this.pos.x/s),b.lerp(0,this.draw.height,this.pos.y/r));this.draw.drawPrimative(C.translatePrimitive(C.rotatePrimitive(C.scalePrimitive(C.triangle,{x:b.lerp(0,this.draw.width,e/s),y:b.lerp(0,this.draw.width,e/s)}),o),n),this.color)}},{key:"render_debug",value:function(t){new N(b.lerp(0,this.draw.width,this.pos.x/t.world.width),b.lerp(0,this.draw.height,this.pos.y/t.world.height));this.draw.drawCircle(this.pos,t.collision_dist,"#0000ff"),this.seen.length>0&&this.draw.fillCircle(this.com,7,"#ff0000"),this.seen.length>0&&this.draw.drawCircle(this.com,7,"#000"),this.draw.drawFOV(this.pos,t.vision_dist,this.vel,t.field_of_view_deg*Math.PI/180,"#1f823f");var e,i=Object(u["a"])(this.seen);try{for(i.s();!(e=i.n()).done;){var s=e.value,r=s.x-this.pos.x,o=s.y-this.pos.y,n=Math.sqrt(r*r+o*o);n<=t.collision_dist?this.draw.drawLine(s,this.pos,"#ff0000"):this.draw.drawLine(s,this.pos,"#1f823f")}}catch(a){i.e(a)}finally{i.f()}}},{key:"update",value:function(t,e,i){var s=[];this.debug&&(this.seen=[]);var r,o=Object(u["a"])(e);try{for(o.s();!(r=o.n()).done;){var n=r.value;if(this.id!=n.id){var a=this.pos.x-n.pos.x,l=this.pos.y-n.pos.y,h=Math.sqrt(a*a+l*l);if(!(h>i.vision_dist)){var d=N.sub(n.pos,this.pos),c=b.angle_between(d,this.vel);c>i.field_of_view_deg*Math.PI/180||(s.push({other:n,other_v:d,th:c,d:h}),this.debug&&this.seen.push(n.pos))}}}}catch(M){o.e(M)}finally{o.f()}for(var v=N.normalize(this.vel),p=new N,_=0,f=s;_<f.length;_++){var g=f[_],m=g.other_v,w=(g.th,g.d);if(!(w>i.collision_dist)){var y=N.mul(m,-1);y.div(w*w),y.mul(50),p.add(y)}}p.mul(i.collision_avoidance_strength),p.sub(this.vel),v.add(p);var x=new N;if(s.length>0){var k,O=new N,P=Object(u["a"])(s);try{for(P.s();!(k=P.n()).done;){var j=k.value.other;O.add(j.vel),x.add(j.pos)}}catch(M){P.e(M)}finally{P.f()}x.div(s.length),O.div(s.length);var z=N.mul(O,i.velocity_align_strength);z.sub(this.vel),v.add(z),this.debug&&(this.com=x)}if(s.length>0){var C=N.sub(x,this.pos);C.setMag(i.max_speed),C.mul(i.center_of_mass_align_strength),v.add(C)}s.length>0&&this.vel.add(v),this.vel.limit(i.max_speed),this.pos.x+=this.vel.x*t,this.pos.y+=this.vel.y*t,this.pos.x>i.world.width&&(this.pos.x=1),this.pos.x<0&&(this.pos.x=i.world.width-1),this.pos.y>i.world.height&&(this.pos.y=1),this.pos.y<0&&(this.pos.y=i.world.height-1)}}]),t}();S.next_id=0;var T=function(){function t(e,i){Object(n["a"])(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.world=i}return Object(p["a"])(t,[{key:"clear",value:function(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.fillStyle="#cde2e2",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.restore()}},{key:"fillCircle",value:function(t,e,i){e=b.lerp(0,this.width,e/this.world.width),t=new N(b.lerp(0,this.width,t.x/this.world.width),b.lerp(0,this.height,t.y/this.world.height)),this.context.beginPath(),this.context.arc(t.x,t.y,e,0,2*Math.PI),this.context.fillStyle=i,this.context.fill()}},{key:"drawCircle",value:function(t,e,i){e=b.lerp(0,this.width,e/this.world.width),t=new N(b.lerp(0,this.width,t.x/this.world.width),b.lerp(0,this.height,t.y/this.world.height)),this.context.beginPath(),this.context.arc(t.x,t.y,e,0,2*Math.PI),this.context.lineWidth=4,this.context.strokeStyle=i,this.context.stroke()}},{key:"drawFOV",value:function(t,e,i,s,r){i=N.normalize(i),e=b.lerp(0,this.width,e/this.world.width),t=new N(b.lerp(0,this.width,t.x/this.world.width),b.lerp(0,this.height,t.y/this.world.height));var o=Math.atan(i.y/i.x)-(i.x<0?Math.PI:0);this.context.beginPath(),this.context.moveTo(t.x+i.x*e,t.y+i.y*e),this.context.arc(t.x,t.y,e,o,o+s,!1),this.context.lineTo(t.x,t.y),this.context.moveTo(t.x+i.x*e,t.y+i.y*e),this.context.arc(t.x,t.y,e,o,o-s,!0),this.context.lineTo(t.x,t.y),this.context.lineWidth=4,this.context.strokeStyle=r,this.context.stroke()}},{key:"drawLine",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ff0000";t=new N(b.lerp(0,this.width,t.x/this.world.width),b.lerp(0,this.height,t.y/this.world.height)),e=new N(b.lerp(0,this.width,e.x/this.world.width),b.lerp(0,this.height,e.y/this.world.height)),this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this.context.strokeStyle=i,this.context.lineWidth=2,this.context.stroke()}},{key:"drawPrimative",value:function(t,e){var i=t.verts;this.context.beginPath(),this.context.moveTo(i[0].x,i[0].y);for(var s=1;s<i.length;++s)this.context.lineTo(i[s].x,i[s].y);this.context.fillStyle=e,this.context.fill()}},{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}}]),t}(),$=function(t){Object(a["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;return Object(n["a"])(this,i),t=e.call(this),t.opts={num_boids:100,max_speed:.25,boid_size:10,field_of_view_deg:120,vision_dist:100,collision_dist:30,draw_debug:!0,collision_avoidance_strength:.05,velocity_align_strength:.31,center_of_mass_align_strength:.16,fps_hist:new Array(60).fill(60),world:{width:0,height:0}},t.boids=[],t.draw=null,t.prevTime=performance.now(),t.id=0,console.log("constructor"),t}return Object(p["a"])(i,[{key:"update",value:function(t){var e,i=this.boids.slice(),s=Object(u["a"])(this.boids);try{for(s.s();!(e=s.n()).done;){var r=e.value;r.update(t,i,this.opts)}}catch(o){s.e(o)}finally{s.f()}this.opts.fps_hist.shift(),this.opts.fps_hist.push(1/t*1e3)}},{key:"render_frame",value:function(){this.draw&&this.draw.clear();var t,e=Object(u["a"])(this.boids);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.render(this.opts)}}catch(s){e.e(s)}finally{e.f()}this.opts.draw_debug&&this.boids[0].render_debug(this.opts)}},{key:"animation_loop",value:function(t){var e=t-this.prevTime;if(this.prevTime=t,this.update(e),this.render_frame(),this.boids.length<this.opts.num_boids){var i=this.opts.num_boids-this.boids.length,s=b.linear_spaced_array(100,255,i);if(this.draw)for(var r=0;r<i;++r){var o=new S({pos:N.rand(0,this.opts.world.width,0,this.opts.world.height),vel:N.rand(),color:"rgb(0,0,".concat(s[r],")"),draw:this.draw});o.vel.setMag(this.opts.max_speed),this.boids.push(o)}}this.boids.length>this.opts.num_boids&&this.boids.splice(this.opts.num_boids),requestAnimationFrame(this.animation_loop)}},{key:"mounted",value:function(){console.log("mounted");var t=this.$refs.main_canvas;this.draw=new T(t,this.opts.world),this.boids=[];var e=1500;this.opts.world.width=Math.round(this.aspect_ratio*e),this.opts.world.height=e;for(var i=b.linear_spaced_array(100,255,this.opts.num_boids),s=0;s<this.opts.num_boids;++s){var r=new S({pos:N.rand(0,this.opts.world.width,0,this.opts.world.height),vel:N.rand(),color:"rgb(0,0,".concat(i[s],")"),draw:this.draw});r.vel.setMag(this.opts.max_speed),this.boids.push(r)}this.boids[0].debug=!0,this.boids[0].color="rgb(255, 0, 0)",requestAnimationFrame(this.animation_loop)}},{key:"world_height",get:function(){return this.opts.world.height},set:function(t){this.opts.world.width=Math.trunc(this.aspect_ratio*t),this.opts.world.height=t}},{key:"aspect_ratio",get:function(){return this.draw?this.draw.width/this.draw.height:1}}]),i}(d["c"]);$=Object(h["a"])([d["a"]],$);var B=$,q=B,A=(i("6203"),i("2877")),F=Object(A["a"])(q,c,v,!1,null,"0e854ade",null),I=F.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"button",attrs:{href:t.url}},[s("img",{attrs:{src:i("387e")}})])},V=[],E=function(t){Object(a["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return i}(d["c"]);Object(h["a"])([Object(d["b"])()],E.prototype,"url",void 0),E=Object(h["a"])([d["a"]],E);var L=E,R=L,W=(i("2f54"),Object(A["a"])(R,J,V,!1,null,"1f97476b",null)),D=W.exports,G=function(t){Object(a["a"])(i,t);var e=Object(l["a"])(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return i}(d["c"]);G=Object(h["a"])([Object(d["a"])({components:{Github:D,Boids:I}})],G);var X=G,H=X,K=(i("034f"),Object(A["a"])(H,r,o,!1,null,null,null)),Q=K.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(Q)}}).$mount("#app")}});
//# sourceMappingURL=app.52aa5164.js.map